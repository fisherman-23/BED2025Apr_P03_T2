<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Community Events</title>
  <link rel="stylesheet" href="/global.css">
  <link rel="stylesheet" href="/communityEvents/style.css">
  <script src="https://cdn.tailwindcss.com"></script>
  
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/toastify-js/src/toastify.min.css" />
  <script src="https://cdn.jsdelivr.net/npm/toastify-js"></script>
  <script src="./toastify.js" defer></script>

  <script src="https://unpkg.com/@daily-co/daily-js"></script>
  <script src="https://cdn.jsdelivr.net/npm/qrcode/build/qrcode.min.js"></script>
</head>
<body class="w-screen overflow-x-hidden">
  <nav class="navbar">
    <img src="/assets/Logo.svg" alt="Logo">
    <div class="nav-icons">
      <a><img src="/assets/icons/NAV-House.svg" alt="home"></a>
      <a><img src="/assets/icons/NAV-Hospital.svg" alt="medical"></a>
      <a><img src="/assets/icons/NAV-Tram.svg" alt="transport"></a>
      <a><img src="/assets/icons/NAV-exercise.svg" alt="exercise"></a>
      <a><img src="/assets/icons/NAV-calendar.svg" alt="events"></a>
      <a><img src="/assets/icons/NAV-users.svg" alt="user"></a>
    </div>
    <div class="profile-icon">
      <img src="/assets/images/elderlyPFP.png" alt="Profile Picture">
    </div>
  </nav>

  <div id="joinedGroupsContainer" class="flex flex-col items-center justify-center w-screen gap-4">
    <h2 class="font-bold text-2xl">My Groups</h2>
    <!-- <div class="flex w-[80vw] h-[30vh] mt-14 justify-between">
      <div class="flex bg-[#f9fafb] w-[75vw] h-full p-4 rounded-2xl">
        <div class="flex flex-col justify-center gap-1">
          <h2 class="text-gray-800 text-opacity-50 text-xl">Public</h4>
          <h1 class="font-bold text-[1.4rem]">Weekly Baking Club</h1>
          <h3 class="text-gray-800 text-opacity-70 text-xl">Share recipes and tips on simple desserts. Learn new techniques and connect with fellow baking enthusiasts.</h3>
          <button data-groupId="1" class="all-none bg-[#d7e961] w-fit px-4 py-2 rounded-2xl mt-6">View Announcements</button>
        </div>
        <img src="communityEvents/assets/cookies.jpg" alt="" class="w-96 h-full rounded-2xl ml-4">
      </div>
      <div class="w-[5vw] flex justify-center items-center">
        <div class="flex flex-row justify-center items-center gap-1">
          <h5>Exit</h5>
          <img src="communityEvents/assets/cross.svg" alt="" class="w-8 h-8">
        </div>
      </div>
    </div> -->
  </div>

  <div class="flex w-screen justify-center items-center md:gap-8 gap-4 my-12 md:flex-row flex-col">
    <div class="flex justify-center items-center gap-8 bg-[#3b82f6] rounded-xl md:w-56 h-14 w-[80vw] create-meeting-button cursor-pointer hover:bg-[#2563eb]">
      <img src="communityEvents/assets/camera-icon.svg" alt="">
      <h3 class="text-white">Create Meeting</h3>
    </div>
    <div class="flex justify-center items-center gap-8 bg-[#22c55e] rounded-xl md:w-56 h-14 w-[80vw] join-meeting-button cursor-pointer hover:bg-[#16a34a]">
      <img src="communityEvents/assets/people-icon.svg" alt="">
      <h3 class="text-white">Join Meeting</h3>
    </div>
  </div>

  <div class="flex w-screen justify-between items-center flex-col gap-8 my-4">
    <h2 class="font-bold text-2xl">Groups You Can Join</h2>
    <div class="available-groups-container flex flex-wrap justify-between w-[90vw] md:w-[68vw] ">
    <!-- 
      <div class="flex w-[44vw] h-[40vw] flex-col mb-2 md:w-[35vw] md:h-[30vw]">
        <img src="communityEvents/assets/failedImage.jpg" class="w-full h-[30vw] rounded-xl" alt="">
        <h3 class="w-full md:text-lg">Hiking Buddies</h3>
      </div> -->
    </div>
  </div>

  <div class="flex w-screen justify-center items-center md:mt-8 mt-4 select-none mb-10 md:mb-16 gap-4">
    <div class="create-group-button flex flex-row justify-center items-center gap-2 bg-[#d7e961] py-4 px-8 rounded-xl w-[35vw] md:w-[25vw]">
      <h3>Create Group</h3>
      <img src="communityEvents/assets/plus-icon.svg" alt="Add icon" class="w-4 h-auto">
    </div>
    <div class="join-group-button flex flex-row justify-center items-center gap-2 bg-[#34d399] py-4 px-8 rounded-xl w-[35vw] md:w-[25vw] cursor-pointer hover:bg-[#10b981]">
      <h3>Join Group</h3>
      <img src="communityEvents/assets/plus-icon.svg" alt="Join icon" class="w-4 h-auto">
    </div>
  </div>

  <div class="fixed top-0 left-0 w-screen h-screen bg-black bg-opacity-60 flex justify-center items-center modal-overlay pointer-events-none opacity-0 transition-opacity duration-300">
    <div class="w-[90vw] md:w-[60vw] h-[55vh] md:h-[60vh] bg-white rounded-2xl p-8 md:p-12 gap-2 flex flex-col">
      <div class="flex justify-between items-center">
        <h3 class="text-lg font-semibold">Create New Group</h3>
        <img src="communityEvents/assets/cross.svg" class="w-6 h-6 cursor-pointer close-modal-btn" alt="Close">
      </div>

      <label for="groupname" class="flex flex-col gap-1">
        <h4 class="text-sm">Group Name</h4>
        <input type="text" id="groupname" maxlength="50" class="w-full h-10 rounded-lg border border-dashed border-gray-300 p-4" placeholder="Enter group name">
      </label>

      <label for="groupdesc" class="flex flex-col gap-1">
        <h4 class="text-sm">Group Description</h4>
        <textarea id="groupdesc" maxlength="200" class="w-full h-24 rounded-lg border border-dashed border-gray-300 p-4" placeholder="Enter group description"></textarea>
      </label>

      <fieldset class="flex flex-col mt-1">
        <div class="flex gap-2 flex-col">
          <label for="publicGroup" class="flex items-center gap-3 p-4 border border-dashed border-gray-200 rounded-lg cursor-pointer hover:bg-gray-50">
            <input type="radio" id="publicGroup" name="groupType" value="public" class="w-4 h-4 text-blue-500" checked>
            <span class="text-sm">Public</span>
          </label>
          <label for="privateGroup" class="flex items-center gap-3 p-4 border border-dashed border-gray-200 rounded-lg cursor-pointer hover:bg-gray-50">
            <input type="radio" id="privateGroup" name="groupType" value="private" class="w-4 h-4 text-blue-500">
            <span class="text-sm">Private</span>
          </label>
        </div>
      </fieldset>

      
      <div class="flex justify-between items-center mt-4 w-full h-[18%] md:h-[15%]">
        <div class="flex flex-col items-center w-[50%] md:w-[55%] h-full">
          <label for="groupIconInput" class="w-full h-full border-2 border-dashed border-gray-300 rounded-lg flex flex-col items-center justify-center bg-gray-50 cursor-pointer">
            <img id="iconUploadPreview" src="communityEvents/assets/plus-icon.svg" class="w-6 h-6 text-gray-400" alt="Add icon">
            <p id="iconUploadText" class="text-sm text-gray-600 font-medium mt-1">Group Icon</p>
            <input type="file" id="groupIconInput" accept="image/*" class="hidden">
          </label>
        </div>

        <button class="create-group bg-blue-500 text-white px-6 rounded-lg hover:bg-blue-600 w-[40%] text-sm h-full">Create Group</button>
      </div>

    </div>
  </div>

  <div id="meetingPopup" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center pointer-events-none opacity-0 transition-opacity">
    <div class="bg-white p-6 rounded-lg w-80">
      <h3 class="text-lg font-semibold mb-4">Enter Room Name</h3>
      <input id="roomName" type="text" 
            class="w-full border rounded p-2 mb-4" 
            placeholder="Meeting room name" />
      <div class="flex justify-end gap-2">
        <button id="cancelJoinBtn" class="px-4 py-2 rounded bg-gray-200">Cancel</button>
        <button id="confirmJoinBtn" class="px-4 py-2 rounded bg-blue-500 text-white">Join</button>
      </div>
    </div>
  </div>

  <div id="joinGroupModal" class="fixed inset-0 bg-black bg-opacity-60 flex justify-center items-center opacity-0 pointer-events-none transition-opacity duration-300 z-50">
    <div class="bg-white rounded-2xl w-[90vw] md:w-[40vw] p-8 flex flex-col gap-4 relative">
      <button id="closeJoinGroupModal" class="absolute top-4 right-4 text-gray-500 hover:text-black text-xl font-bold">&times;</button>
      <h3 class="text-lg font-semibold mb-4">Join Group by Invite Token</h3>
      
      <input id="joinTokenInput" type="text" placeholder="Enter invite token"
             class="border border-gray-300 rounded-lg p-3 w-full text-center text-lg" />
      
      <p id="joinTokenMessage" class="text-center text-red-500 min-h-[1.5rem]"></p>
      
      <button id="joinGroupByTokenBtn"
              class="bg-green-500 text-white py-2 rounded-lg hover:bg-green-600 disabled:opacity-50"
              disabled>
        Join Group
      </button>
    </div>
  </div>
  

    
  <script src="communityEvents/script.js" type="module"></script>
</body>
</html>

